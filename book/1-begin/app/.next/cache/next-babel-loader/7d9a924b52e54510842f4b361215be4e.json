{"ast":null,"code":"var _jsxFileName = \"/home/mk/projects/asynclabs/saas/book/1-begin/app/pages/_document.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Document, { Head, Html, Main, NextScript } from 'next/document';\nimport React from 'react';\nimport * as dotenv from 'dotenv';\nimport { ServerStyleSheets } from '@material-ui/styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndotenv.config();\n\nclass MyDocument extends Document {\n  render() {\n    console.log(\"MyDocument\", \"development\");\n    console.log(\"MyDocument\", process.env.NEXT_PUBLIC_URL_APP);\n    console.log(\"MyDocument\", 'rendered on the server');\n    return /*#__PURE__*/_jsxDEV(Html, {\n      lang: \"en\",\n      children: [/*#__PURE__*/_jsxDEV(Head, {\n        children: [/*#__PURE__*/_jsxDEV(\"meta\", {\n          charSet: \"utf-8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n          name: \"google\",\n          content: \"notranslate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n          name: \"theme-color\",\n          content: \"#303030\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"body\", {\n        children: [/*#__PURE__*/_jsxDEV(Main, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(NextScript, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\n_defineProperty(MyDocument, \"getInitialProps\", async ctx => {\n  const sheets = new ServerStyleSheets();\n  console.log(sheets);\n  const originalRenderPage = ctx.renderPage;\n\n  ctx.renderPage = () => originalRenderPage({\n    enhanceApp: App => props => sheets.collect( /*#__PURE__*/_jsxDEV(App, _objectSpread({}, props), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 56\n    }, MyDocument))\n  });\n\n  const initialProps = await Document.getInitialProps(ctx);\n  console.log(initialProps);\n  console.log(initialProps.styles);\n  console.log(React.Children.toArray(initialProps.styles));\n  console.log(sheets);\n  console.log(sheets.getStyleElement());\n  return _objectSpread(_objectSpread({}, initialProps), {}, {\n    styles: [...React.Children.toArray(initialProps.styles), sheets.getStyleElement()]\n  });\n});\n\nexport default MyDocument;","map":{"version":3,"names":["Document","Head","Html","Main","NextScript","React","dotenv","ServerStyleSheets","config","MyDocument","render","console","log","process","env","NEXT_PUBLIC_URL_APP","ctx","sheets","originalRenderPage","renderPage","enhanceApp","App","props","collect","initialProps","getInitialProps","styles","Children","toArray","getStyleElement"],"sources":["/home/mk/projects/asynclabs/saas/book/1-begin/app/pages/_document.tsx"],"sourcesContent":["import Document, { Head, Html, Main, NextScript } from 'next/document';\nimport React from 'react';\nimport * as dotenv from 'dotenv';\nimport { ServerStyleSheets } from '@material-ui/styles';\n\ndotenv.config();\n\nclass MyDocument extends Document {\n  public static getInitialProps = async (ctx) => {\n    const sheets = new ServerStyleSheets();\n    console.log(sheets);\n    const originalRenderPage = ctx.renderPage;\n\n    ctx.renderPage = () =>\n      originalRenderPage({\n        enhanceApp: (App) => (props) => sheets.collect(<App {...props} />),\n      });\n\n    const initialProps = await Document.getInitialProps(ctx);\n\n    console.log(initialProps);\n    console.log(initialProps.styles);\n    console.log(React.Children.toArray(initialProps.styles));\n\n    console.log(sheets);\n    console.log(sheets.getStyleElement());\n\n    return {\n      ...initialProps,\n      styles: [...React.Children.toArray(initialProps.styles), sheets.getStyleElement()],\n    };\n  };\n\n  public render() {\n    console.log(\"MyDocument\",process.env.NODE_ENV);\n    console.log(\"MyDocument\",process.env.NEXT_PUBLIC_URL_APP);\n    console.log(\"MyDocument\",'rendered on the server');\n\n    return (\n      <Html lang=\"en\">\n        <Head>\n          <meta charSet=\"utf-8\" />\n          <meta name=\"google\" content=\"notranslate\" />\n          <meta name=\"theme-color\" content=\"#303030\" />\n        </Head>\n        <body>\n          <Main />\n          <NextScript />\n        </body>\n      </Html>\n    );\n  }\n}\n\nexport default MyDocument;\n"],"mappings":";;;;;;;;AAAA,OAAOA,QAAP,IAAmBC,IAAnB,EAAyBC,IAAzB,EAA+BC,IAA/B,EAAqCC,UAArC,QAAuD,eAAvD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,MAAZ,MAAwB,QAAxB;AACA,SAASC,iBAAT,QAAkC,qBAAlC;;AAEAD,MAAM,CAACE,MAAP;;AAEA,MAAMC,UAAN,SAAyBT,QAAzB,CAAkC;EA0BzBU,MAAM,GAAG;IACdC,OAAO,CAACC,GAAR,CAAY,YAAZ;IACAD,OAAO,CAACC,GAAR,CAAY,YAAZ,EAAyBC,OAAO,CAACC,GAAR,CAAYC,mBAArC;IACAJ,OAAO,CAACC,GAAR,CAAY,YAAZ,EAAyB,wBAAzB;IAEA,oBACE,QAAC,IAAD;MAAM,IAAI,EAAC,IAAX;MAAA,wBACE,QAAC,IAAD;QAAA,wBACE;UAAM,OAAO,EAAC;QAAd;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UAAM,IAAI,EAAC,QAAX;UAAoB,OAAO,EAAC;QAA5B;UAAA;UAAA;UAAA;QAAA,QAFF,eAGE;UAAM,IAAI,EAAC,aAAX;UAAyB,OAAO,EAAC;QAAjC;UAAA;UAAA;UAAA;QAAA,QAHF;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAME;QAAA,wBACE,QAAC,IAAD;UAAA;UAAA;UAAA;QAAA,QADF,eAEE,QAAC,UAAD;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA;QAAA;QAAA;QAAA;MAAA,QANF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EAaD;;AA5C+B;;gBAA5BH,U,qBAC4B,MAAOO,GAAP,IAAe;EAC7C,MAAMC,MAAM,GAAG,IAAIV,iBAAJ,EAAf;EACAI,OAAO,CAACC,GAAR,CAAYK,MAAZ;EACA,MAAMC,kBAAkB,GAAGF,GAAG,CAACG,UAA/B;;EAEAH,GAAG,CAACG,UAAJ,GAAiB,MACfD,kBAAkB,CAAC;IACjBE,UAAU,EAAGC,GAAD,IAAUC,KAAD,IAAWL,MAAM,CAACM,OAAP,eAAe,QAAC,GAAD,oBAASD,KAAT;MAAA;MAAA;MAAA;IAAA,GARjDb,UAQiD,CAAf;EADf,CAAD,CADpB;;EAKA,MAAMe,YAAY,GAAG,MAAMxB,QAAQ,CAACyB,eAAT,CAAyBT,GAAzB,CAA3B;EAEAL,OAAO,CAACC,GAAR,CAAYY,YAAZ;EACAb,OAAO,CAACC,GAAR,CAAYY,YAAY,CAACE,MAAzB;EACAf,OAAO,CAACC,GAAR,CAAYP,KAAK,CAACsB,QAAN,CAAeC,OAAf,CAAuBJ,YAAY,CAACE,MAApC,CAAZ;EAEAf,OAAO,CAACC,GAAR,CAAYK,MAAZ;EACAN,OAAO,CAACC,GAAR,CAAYK,MAAM,CAACY,eAAP,EAAZ;EAEA,uCACKL,YADL;IAEEE,MAAM,EAAE,CAAC,GAAGrB,KAAK,CAACsB,QAAN,CAAeC,OAAf,CAAuBJ,YAAY,CAACE,MAApC,CAAJ,EAAiDT,MAAM,CAACY,eAAP,EAAjD;EAFV;AAID,C;;AAuBH,eAAepB,UAAf"},"metadata":{},"sourceType":"module"}